{"ast":null,"code":"var _jsxFileName = \"/home/ironart/ironart_front/src/components/Card/Card.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React from \"react\";\nimport enterList from \"./DragEnerList\";\nimport \"./Card.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Card(_ref) {\n  _s();\n\n  let {\n    listId\n  } = _ref;\n  const [cards, setCards] = React.useState(null);\n  const [CardTitle, setCardTitle] = React.useState(null);\n  React.useEffect(() => {\n    axios.get(`${process.env.REACT_APP_API_URL}/questions/${listId}/answers`).then(response => {\n      setCards(response.data);\n    });\n  }, [listId]);\n\n  function createCard(CardTitle, newListId) {\n    axios.post(`${process.env.REACT_APP_API_URL}/questions/${newListId}/answers`, {\n      body: CardTitle,\n      list_id: newListId\n    }).then(response => {\n      setCards(response.data);\n    });\n  }\n\n  function deleteCard(cardId) {\n    axios.delete(`${process.env.REACT_APP_API_URL}/questions/${listId}/answers/${cardId}`).then(() => {\n      setCards(cards.filter(card => card.id !== cardId));\n    }).catch(error => {\n      console.log({ ...error\n      });\n    });\n  }\n\n  function updateCard(cardId, title) {\n    axios.put(`${process.env.REACT_APP_API_URL}/tables/${tableId}/lists/${listId}/answers/${cardId}`, {\n      title\n    }).then(response => {\n      setCards(response.data);\n    });\n  }\n\n  function dragStartHandler(event, card, listId) {}\n\n  function dragEndHandler(event, card, cards) {\n    event.preventDefault();\n\n    if (listId !== enterList[enterList.length - 1]) {\n      createCard(card.title, enterList[enterList.length - 1]);\n      deleteCard(card.id);\n    }\n  }\n\n  function dragOverHandler(event, card) {\n    event.preventDefault();\n  }\n\n  function dragEnterHandler(event, listId) {\n    enterList.push(listId);\n  }\n\n  if (!cards) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onDragEnter: event => dragEnterHandler(event, listId),\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"\\u0418\\u043C\\u044F \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0438\",\n      onChange: event => setCardTitle(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"pressed-button\",\n      onClick: () => createCard(CardTitle, listId),\n      children: \"Create Card\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list1a\",\n        children: cards.map(card => /*#__PURE__*/_jsxDEV(\"div\", {\n          onDragStart: event => dragStartHandler(event, card, listId),\n          onDragEnd: event => dragEndHandler(event, card, cards),\n          onDragOver: event => dragOverHandler(event, card),\n          draggable: true,\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              value: card.title,\n              onChange: event => {\n                const updateCards = cards.reduce((prevCards, updatedCards) => {\n                  if (updatedCards.id !== card.id) {\n                    return [...prevCards, updatedCards];\n                  }\n\n                  const updatedCard = { ...updatedCards,\n                    title: event.target.value\n                  };\n                  return [...prevCards, updatedCard];\n                }, []);\n                setCards(updateCards);\n              },\n              onBlur: () => updateCard(card.id, card.title)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"pressed-button\",\n              onClick: () => deleteCard(card.id),\n              children: \"Delete Card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Card, \"UPaIAs3licj70BwbMGGphMlqWuM=\");\n\n_c = Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["/home/ironart/ironart_front/src/components/Card/Card.js"],"names":["axios","React","enterList","Card","listId","cards","setCards","useState","CardTitle","setCardTitle","useEffect","get","process","env","REACT_APP_API_URL","then","response","data","createCard","newListId","post","body","list_id","deleteCard","cardId","delete","filter","card","id","catch","error","console","log","updateCard","title","put","tableId","dragStartHandler","event","dragEndHandler","preventDefault","length","dragOverHandler","dragEnterHandler","push","target","value","map","updateCards","reduce","prevCards","updatedCards","updatedCard"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport enterList from \"./DragEnerList\";\nimport \"./Card.css\";\n\nexport default function Card({ listId }) {\n  const [cards, setCards] = React.useState(null);\n  const [CardTitle, setCardTitle] = React.useState(null);\n\n  React.useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/questions/${listId}/answers`)\n      .then((response) => {\n        setCards(response.data);\n      });\n  }, [listId]);\n\n  function createCard(CardTitle, newListId) {\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/questions/${newListId}/answers`, {\n        body: CardTitle,\n        list_id: newListId,\n      })\n      .then((response) => {\n        setCards(response.data);\n      });\n  }\n\n  function deleteCard(cardId) {\n    axios\n      .delete(\n        `${process.env.REACT_APP_API_URL}/questions/${listId}/answers/${cardId}`\n      )\n      .then(() => {\n        setCards(cards.filter((card) => card.id !== cardId));\n      })\n      .catch((error) => {\n        console.log({ ...error });\n      });\n  }\n\n  function updateCard(cardId, title) {\n    axios\n      .put(\n        `${process.env.REACT_APP_API_URL}/tables/${tableId}/lists/${listId}/answers/${cardId}`,\n        {\n          title,\n        }\n      )\n      .then((response) => {\n        setCards(response.data);\n      });\n  }\n\n  function dragStartHandler(event, card, listId) {}\n\n  function dragEndHandler(event, card, cards) {\n    event.preventDefault();\n    if (listId !== enterList[enterList.length - 1]) {\n      createCard(card.title, enterList[enterList.length - 1]);\n      deleteCard(card.id);\n    }\n  }\n\n  function dragOverHandler(event, card) {\n    event.preventDefault();\n  }\n\n  function dragEnterHandler(event, listId) {\n    enterList.push(listId);\n  }\n\n  if (!cards) return null;\n\n  return (\n    <div onDragEnter={(event) => dragEnterHandler(event, listId)}>\n      <input\n        placeholder=\"Имя карточки\"\n        onChange={(event) => setCardTitle(event.target.value)}\n      />\n\n      <button\n        className=\"pressed-button\"\n        onClick={() => createCard(CardTitle, listId)}\n      >\n        Create Card\n      </button>\n      <div>\n        <ul className=\"list1a\">\n          {cards.map((card) => (\n            <div\n              onDragStart={(event) => dragStartHandler(event, card, listId)}\n              onDragEnd={(event) => dragEndHandler(event, card, cards)}\n              onDragOver={(event) => dragOverHandler(event, card)}\n              draggable={true}\n            >\n              <li>\n                <input\n                  value={card.title}\n                  onChange={(event) => {\n                    const updateCards = cards.reduce(\n                      (prevCards, updatedCards) => {\n                        if (updatedCards.id !== card.id) {\n                          return [...prevCards, updatedCards];\n                        }\n\n                        const updatedCard = {\n                          ...updatedCards,\n                          title: event.target.value,\n                        };\n                        return [...prevCards, updatedCard];\n                      },\n                      []\n                    );\n                    setCards(updateCards);\n                  }}\n                  onBlur={() => updateCard(card.id, card.title)}\n                />\n                <button\n                  className=\"pressed-button\"\n                  onClick={() => deleteCard(card.id)}\n                >\n                  Delete Card\n                </button>\n              </li>\n            </div>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}